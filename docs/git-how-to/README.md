# Введение в Git

## Установка

Устанавливаем Git на машину.
На Ubuntu это должно быть совсем просто: `sudo apt install git`.
На Windows тоже всё ставится, например, про установку Git-а на Windows пара слов сказано [тут](https://git-scm.com/book/ru/v2/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-Git).
Правда, при работе на Windows могут возникнуть проблемы с тем, что Git установлен, но в консоли команда `git` всё равно не распознаётся.
Если окажется так, то надо будет проверить, добавлен ли путь до Git в системную переменную `PATH`.
Для этого надо, например, зайти в `Панель управления\Система и безопасность\Система\Дополнительные параметры системы`, кликнуть "Переменные среды", и там будет настройка `PATH`.
В `PATH` надо добавить путь до бинарника с Гитом (куда он установился).
Советы по настройке `PATH`, в частности для работы с Гитом, несложно найти.
Например, что-то про это сказано [тут](https://stackoverflow.com/questions/26620312/git-installing-git-in-path-with-github-client-for-windows).

Если не хочется особо возиться с Гитом, изменять `PATH` и т.п., то можно ещё сделать так.
Для Windows есть удобная Unix-like консоль [Cmder](https://cmder.net).
При скачивании есть вариант "Download Full (with Git for Windows)".
Если это скачать, установить, и запустить консоль, то на машине бесплатно появится и Git.
Правда, команда `git` будет работать только в указанной консоли.

Проверить, что вы можете работать с Git через терминал, можно, выполнив команду
```bash
which git
```
которая укажет путь до исполняемого файла, или просто
```bash
git
```
которая выведет небольшую справку по Гиту, какие команды есть, как вызывать.


## Создание репозитория

Заходим на страницу своего профиля на Гитхаб:
![](./images/git_01_profile.png)

Создаём репозиторий:
![](./images/git_02__create_repo.png)

Даём ему имя, можем добавить README, файл с лицензией (лучше хоть какой-то файл создать на всякий случай, чтобы репозиторий был непустой).
Например, добавим MIT лицензию:
![](./images/git_03__repo_info.png)

Репозиторий создан:
![](./images/git_04__repo_created.png)

Копируем адрес репозитория:
![](./images/git_05__repo_address.png)

На своём компьютере переходим в рабочую директорию:
![](./images/git_06__local_working_folder.png)

И создаём локальный клон репозитория:
![](./images/git_07__cloning.png)

Клонирование завершено:
![](./images/git_08__cloning_result.png)

Переходим в созданную папку с репозиторием и проверяем статус `git status`:
![](./images/git_09__git_status.png)


## Небольшое отступление номер 1: настройка репозитория для сдачи заданий

Чтобы семинарист мог оставлять комментарии к решениям, надо добавить его в участники репозитория.
Для этого надо сначала открыть настройки репозитория:
![](./images/git_settings.png)

Потом в настройках открыть вкладку "Добавить участника":
![](./images/git_add_contributor.png)

И далее надо добавить семинариста по его имени на Github (`@Alvant`), с правами Write.


## Первый push

*Данная секция добавлена позже основной части материала, поэтому на картинках представлены примеры, где у репозитория другое имя (не AdvancedPython2020, а TestRepo2).*

Чтобы попробовать залить какие-то изменения в репозиторий, добавим в репозиторий `README.md`.

Создаём файл, приводим там описание проекта:
![](./images/first_push/git_10__readme.png)

Добавляем файл `README.md` в список файлов, которые мы далее закоммитим, с помощью команды `git add`.
Проверяем статус (на всякий случай):
![](./images/first_push/git_11__adding_readme.png)

Пытаемся закоммитить файл, добавляя к коммиту поясняющее сообщение (коммит — запись, сохранение изменений).
Возможно, Гит сначала попросит вас представиться.
Тогда надо указать ваши имя и почту:
![](./images/first_push/git_12__commit_config.png)

Наконец коммитим файл.
Опять проверяем статус:
![](./images/first_push/git_14__commit_config.png)

Пытаемся (залить) запушить локальные изменения на Гитхаб, введя имя пользователя и пароль...
![](./images/first_push/git_15__push.png)

Но запушить сразу не получится, потому что для того, чтоб запушить, надо ввести не просто пароль, а *токен*.
Который ещё [надо создать](https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token):


## Небольшое отступление номер 2: создание токена

Заходим в настройки:
![](./images/first_token/1.png)

Раздел "для разработчиков":
![](./images/first_token/2.png)

*Далее приведён вариант с созданием "классического" токена (но вообще можно и fine-grained попробовать)*.

Выбираем тип токена:
![](./images/first_token/5.png)

Говорим, что токен для работы с репозиториями (в том числе чтоб можно было запушить):
![](./images/first_token/6.png)

Подтверждаем:
![](./images/first_token/7.png)

Сохраняем токен:
![](./images/first_token/8.png)


## Первый push. Продолжение

После попытки снова выполнить `git push`, вводим имя пользователя и *токен*:
![](./images/first_push/git_15__push.png)

В итоге изменения отправлены на Гитхаб:
![](./images/first_push/git_16__push_result_console.png)

И теперь на сайте тоже есть файл `README.md`:
![](./images/first_push/git_17__push_result_repo.png)


## Ссылки

* [Powerful Python One-Liners](https://wiki.python.org/moin/Powerful%20Python%20One-Liners) — пара крутых питонских однострочников ("обратить словарь в одну строчку")
* [Cmder](https://cmder.net/) — Unix-like консоль на Windows
* [Learn Git Branching](https://learngitbranching.js.org/?locale=ru_RU) — классная интерактивная Гит-обучалка (`git add`, `git commit`, `git cherry-pick`, `git rebase` & many more)


## Git GUI

При описании работы с Git-ом, а уже тем более Git-ом на Windows, стоит ещё упомянуть о таких программах, как [Sourcetree](https://www.sourcetreeapp.com/) и [GitKraken](https://www.gitkraken.com/) — это GUI обёртки над самим Гитом.
Они удобны в том плане, что там всё наглядно, видны все ветки, вся эволюция репозитория как история коммитов и объединений веток.
Но получить практику работы с Гитом через терминал тоже небесполезно.
Так, в каких-то не совсем тривиальных случаях "сделать напрямую через Гит" может быть проще, чем через GUI интерфейс.
